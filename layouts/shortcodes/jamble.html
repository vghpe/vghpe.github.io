<link rel="stylesheet" href="{{ "games/jamble/jamble.css" | relURL }}">

<div class="jamble-embed" style="margin: 1rem 0;">
  <div class="jamble-game-wrapper">
    <div id="jamble-game"></div>
  </div>
</div>

<script src="{{ "games/jamble/jamble.js" | relURL }}" defer></script>
<script defer>
(function () {
  function initJamble() {
    var el = document.getElementById('jamble-game');
    if (!el) {
      console.warn('Jamble container not found');
      return;
    }
    
    if (!(window.Jamble && Jamble.Game)) {
      console.warn('Jamble not loaded yet, retrying...');
      setTimeout(initJamble, 50);
      return;
    }
    
    try {
      var game = new Jamble.Game(el);
      game.start();
    } catch (e) {
      console.error('Failed to start Jamble', e);
    }
  }
  
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initJamble, { once: true });
  } else {
    initJamble();
  }
})();
</script>
